class Solution {
    public int maximumScore(int[] nums, int[] multipliers) {
        int dp[][]=new int[multipliers.length][multipliers.length];
        for(int i=0;i<multipliers.length;i++)
        Arrays.fill(dp[i],-1);
       int sum=dfs(0,0,nums,multipliers,dp);
       return sum;
        
    }
    private int dfs(int l,int i,int[] nums,int[] mul,int dp[][]){
    
        if(i==mul.length)
        return 0;
            if (dp[l][i]!=-1)
        return dp[l][i];
        int r=nums.length-1-(i-l);
       int res= Math.max((mul[i]*nums[l]+dfs(l+1,i+1,nums,mul,dp)),
        (mul[i]*nums[r]+dfs(l,i+1,nums,mul,dp)));
        return dp[l][i]= res;
    }
}
